{% extends 'global/base.html' %}

{% block title %}ЦВС - Главная{% endblock %}
{% block description %}Добро пожаловать в ЦВС - профессиональный стрелковый клуб. Участвуйте в соревнованиях, тренировках и семинарах.{% endblock %}

{% block content %}
<main class="main-content">
    <div class="container">
        <!-- Hero Section -->
        <section class="hero-section text-center" style="padding: 4rem 0;">
            <div class="hero-content fade-in">
                <h1 class="hero-title">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <i class="fas fa-crosshairs"></i>
                        <span class="title-text">РССО "ЦЕНР ВЫСОКОТОЧНОЙ СТРЕЛЬБЫ"</span>
                    </div>
                    <p>Республики Башкортастан</p>
                </h1>
                <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 2.5rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                    Профессиональный стрелковый клуб для любителей точной стрельбы. 
                    Соревнования, тренировки, семинары и индивидуальная пристрелка оружия.
                </p>
                <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: 2.5rem; max-width: 755px; margin-left: auto; margin-right: auto;">
                    Адрес: Республика Башкортастан, г.Стерлитамак, ул.Худайбердина, д.202
                    Телефон: +7 (917)-342-38-18
                </p>
                
                <div class="hero-buttons" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    {% if user.is_authenticated %}
                    
                        <a href="{% url 'cabinet' %}" class="btn btn-outline" style="font-size: 1.1rem; padding: 1rem 2rem;">
                            <i class="fas fa-user"></i>
                            Личный кабинет
                        </a>
                    {% else %}
                        <a href="{% url 'register' %}" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;">
                            <i class="fas fa-user-plus"></i>
                            Присоединиться
                        </a>
                        <a href="{% url 'login' %}" class="btn btn-outline" style="font-size: 1.1rem; padding: 1rem 2rem;">
                            <i class="fas fa-sign-in-alt"></i>
                            Войти
                        </a>
                    {% endif %}
                </div>
            </div>
        </section>

        <section class="features-preview" style="padding: 4rem 0;">
            <!-- Две большие карточки сверху -->
            <div class="features-main-grid">
                <div class="feature-card-large slide-in-left">
                    <div class="feature-icon-large">
                        <i class="fas fa-trophy fa-beat-fade"></i>
                    </div>
                    <div class="feature-content-large">
                        <h2>Соревнования</h2>
                        <p>Участвуйте в соревнованиях по снайпингу, силуэтной и практической стрельбе. Проверьте свои навыки против лучших стрелков клуба.</p>
                        <div class="feature-stats">
                            <div class="stat-item">
                                <i class="fas fa-calendar"></i>
                                <span>{{ competition_count }} соревнований</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-users"></i>
                                <span>{{ users }} участников</span>
                            </div>
                        </div>
                        <a href="{% url 'competitions' %}" class="btn btn-primary btn-lg">
                            <i class="fas fa-arrow-right"></i>
                            Перейти к соревнованиям
                        </a>
                    </div>
                </div>

                <div class="feature-card-large slide-in-right">
                    <div class="feature-icon-large rating-icon">
                        <i class="fas fa-star fa-beat-fade"></i>
                    </div>
                    <div class="feature-content-large">
                        <h2>Рейтинг стрелков</h2>
                        <p>Топ-100 лучших стрелков клуба. Соревнуйтесь за первые места и становитесь легендой!</p>
                        <div class="feature-stats">
                            <div class="stat-item">
                                <i class="fas fa-medal"></i>
                                <span>Топ-100 рейтинг</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-chart-line"></i>
                                <span>Живая таблица</span>
                            </div>
                        </div>
                        {% if user.is_authenticated %}
                        <a href="{% url 'top-ladder' %}" class="btn btn-primary btn-lg">
                            <i class="fas fa-trophy"></i>
                            Посмотреть рейтинг
                        </a>
                        {% else %}
                        <a href="{% url 'login' %}" class="btn btn-outline btn-lg">
                            <i class="fas fa-sign-in-alt"></i>
                            Войти для просмотра
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Маленькие карточки снизу -->
            <div class="features-small-grid">
                <div class="feature-card-small slide-in-up" style="animation-delay: 0.1s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-dumbbell"></i>
                    </div>
                    <h3>Тренировки</h3>
                    <p>Регулярные тренировки под руководством опытных инструкторов.</p>
                    <a href="{% url 'training' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                </div>

                <div class="feature-card-small slide-in-up" style="animation-delay: 0.2s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <h3>Семинары</h3>
                    <p>Образовательные семинары по баллистике и тактике стрельбы.</p>
                    <a href="{% url 'seminar' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                </div>

                <div class="feature-card-small slide-in-up" style="animation-delay: 0.3s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3>Пристрелка</h3>
                    <p>Профессиональная пристрелка оружия с точными расчетами.</p>
                    <a href="{% url 'singhting-in' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                </div>

                <div class="feature-card-small slide-in-up" style="animation-delay: 0.4s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>Правила</h3>
                    <p>Правила участия в профессиональных мероприятиях.</p>
                    <a href="{% url 'sniper_rules' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                </div>

                <div class="feature-card-small slide-in-up" style="animation-delay: 0.5s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Форум</h3>
                    <p>Обсуждайте тактику, делитесь опытом с другими стрелками.</p>
                    <a href="{% url 'question-list' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                </div>

                <div class="feature-card-small slide-in-up" style="animation-delay: 0.6s;">
                    <div class="feature-icon-small">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h3>Калькулятор</h3>
                    <p>Расчет очков за попадание в классическом снайпинге.</p>
                    {% if user.is_authenticated %}
                    <a href="{% url 'calc' %}" class="feature-link">
                        <i class="fas fa-arrow-right"></i>
                        Подробнее
                    </a>
                    {% else %}
                    <a href="{% url 'login' %}" class="feature-link">
                        <i class="fas fa-sign-in-alt"></i>
                        Войти
                    </a>
                    {% endif %}
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="stats-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" data-counter="{{users}}">0</div>
                        <p class="stat-label">Участников</p>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" data-counter="{{competition_count}}">0</div>
                        <p class="stat-label">Соревнований</p>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" data-counter="{{seminar_count}}">0</div>
                        <p class="stat-label">Семинаров</p>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" data-counter="{{training_count}}">0</div>
                        <p class="stat-label">Тренировок</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        {% if not user.is_authenticated %}
        <section class="cta-section text-center" style="padding: 4rem 0;">
            <div class="card" style="max-width: 600px; margin: 0 auto;">
                <h3 style="margin-bottom: 1rem;">Готовы начать?</h3>
                <p style="margin-bottom: 2rem; color: var(--text-secondary);">
                    Присоединяйтесь к нашему сообществу профессиональных стрелков и начните свой путь к совершенству.
                </p>
                <a href="{% url 'register' %}" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;">
                    <i class="fas fa-rocket"></i>
                    Зарегистрироваться сейчас
                </a>
            </div>
        </section>
        {% endif %}
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animate counters when they come into view
    const counters = document.querySelectorAll('[data-counter]');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.getAttribute('data-counter'));
                PhantomJS.animateCounter(counter, 0, target, 2000);
                observer.unobserve(counter);
            }
        });
    });
    
    counters.forEach(counter => observer.observe(counter));
});
</script>
{% endblock %}